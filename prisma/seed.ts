import { PrismaClient } from '@prisma/client';
import bcrypt from 'bcryptjs';

const prisma = new PrismaClient();

async function main() {
  console.log('üå± –ù–∞—á–∏–Ω–∞–µ–º –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...');

  // –°–æ–∑–¥–∞–µ–º –∞–¥–º–∏–Ω–∞
  const adminPassword = await bcrypt.hash('admin123', 10);
  const admin = await prisma.user.upsert({
    where: { email: 'admin@taxservice.ru' },
    update: {},
    create: {
      email: 'admin@taxservice.ru',
      name: '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –°–∏—Å—Ç–µ–º—ã',
      password: adminPassword,
      role: 'ADMIN',
      department: 'IT –æ—Ç–¥–µ–ª',
      position: '–°–∏—Å—Ç–µ–º–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä',
      phoneNumber: '+7 (900) 123-45-67',
    },
  });

  console.log('‚úÖ –°–æ–∑–¥–∞–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:', admin.email);

  // –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  const testUsers = [
    {
      email: 'ivanov@taxservice.ru',
      name: '–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á',
      department: '–û—Ç–¥–µ–ª –∫–∞–º–µ—Ä–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫',
      position: '–ì–ª–∞–≤–Ω—ã–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç',
      phoneNumber: '+7 (900) 111-11-11',
    },
    {
      email: 'petrov@taxservice.ru',
      name: '–ü–µ—Ç—Ä–æ–≤ –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤–∏—á',
      department: '–û—Ç–¥–µ–ª –≤—ã–µ–∑–¥–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫',
      position: '–í–µ–¥—É—â–∏–π –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä',
      phoneNumber: '+7 (900) 222-22-22',
    },
    {
      email: 'sidorova@taxservice.ru',
      name: '–°–∏–¥–æ—Ä–æ–≤–∞ –ê–Ω–Ω–∞ –°–µ—Ä–≥–µ–µ–≤–Ω–∞',
      department: '–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –æ—Ç–¥–µ–ª',
      position: '–Æ—Ä–∏—Å—Ç',
      phoneNumber: '+7 (900) 333-33-33',
    },
    {
      email: 'nikolaev@taxservice.ru',
      name: '–ù–∏–∫–æ–ª–∞–µ–≤ –ù–∏–∫–æ–ª–∞–π –ù–∏–∫–æ–ª–∞–µ–≤–∏—á',
      department: '–û—Ç–¥–µ–ª —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ —É—á–µ—Ç–∞',
      position: '–ù–∞—á–∞–ª—å–Ω–∏–∫ –æ—Ç–¥–µ–ª–∞',
      phoneNumber: '+7 (900) 444-44-44',
    },
  ];

  const userPassword = await bcrypt.hash('user123', 10);
  const users = [];

  for (const userData of testUsers) {
    const user = await prisma.user.upsert({
      where: { email: userData.email },
      update: {},
      create: {
        ...userData,
        password: userPassword,
        role: 'EMPLOYEE',
      },
    });
    users.push(user);
    console.log('‚úÖ –°–æ–∑–¥–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', user.email);
  }

  // –°–æ–∑–¥–∞–µ–º –∫–æ–¥—ã –¥–æ—Å—Ç—É–ø–∞
  const accessCodes = [
    {
      code: 'WELCOME2024',
      expiresAt: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000), // 30 –¥–Ω–µ–π
      createdBy: admin.id,
    },
    {
      code: 'NEWEMPLOYEE',
      expiresAt: new Date(Date.now() + 90 * 24 * 60 * 60 * 1000), // 90 –¥–Ω–µ–π
      createdBy: admin.id,
    },
  ];

  for (const codeData of accessCodes) {
    await prisma.accessCode.upsert({
      where: { code: codeData.code },
      update: {},
      create: codeData,
    });
    console.log('‚úÖ –°–æ–∑–¥–∞–Ω –∫–æ–¥ –¥–æ—Å—Ç—É–ø–∞:', codeData.code);
  }

  // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ—Å—Ç–∏
  const newsItems = [];
  const newsData = [
    {
      title: '–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –Ω–∞–ª–æ–≥–æ–≤–æ–º –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–µ —Å 1 —è–Ω–≤–∞—Ä—è 2024',
      content: `–° 1 —è–Ω–≤–∞—Ä—è 2024 –≥–æ–¥–∞ –≤—Å—Ç—É–ø–∞—é—Ç –≤ —Å–∏–ª—É –≤–∞–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –Ω–∞–ª–æ–≥–æ–≤–æ–º –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–µ:

1. –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞ –¥–æ—Ö–æ–¥–æ–≤ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –£–°–ù
2. –ù–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞—Å—á–µ—Ç–∞ –∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –Ω–∞–ª–æ–≥–æ–≤
3. –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –Ω–∞–ª–æ–≥–æ–≤–æ–π –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏

–í—Å–µ–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –∏ –ø—Ä–æ–π—Ç–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –æ–±—É—á–µ–Ω–∏–µ.`,
      category: '–ó–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ',
      importance: 'HIGH',
      authorId: admin.id,
    },
    {
      title: '–ì—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã –≤ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ –¥–Ω–∏',
      content: `–£–≤–∞–∂–∞–µ–º—ã–µ –∫–æ–ª–ª–µ–≥–∏!

–ò–Ω—Ñ–æ—Ä–º–∏—Ä—É–µ–º –≤–∞—Å –æ –≥—Ä–∞—Ñ–∏–∫–µ —Ä–∞–±–æ—Ç—ã –Ω–∞–ª–æ–≥–æ–≤–æ–π —Å–ª—É–∂–±—ã –≤ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ –¥–Ω–∏:

31 –¥–µ–∫–∞–±—Ä—è - —Å–æ–∫—Ä–∞—â–µ–Ω–Ω—ã–π –¥–µ–Ω—å –¥–æ 16:00
1-8 —è–Ω–≤–∞—Ä—è - –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–Ω–∏
9 —è–Ω–≤–∞—Ä—è - –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã –≤ –æ–±—ã—á–Ω–æ–º —Ä–µ–∂–∏–º–µ

–î–µ–∂—É—Ä–Ω–∞—è —Å–ª—É–∂–±–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ –æ—Å–æ–±–æ–º—É –≥—Ä–∞—Ñ–∏–∫—É.`,
      category: '–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã',
      importance: 'NORMAL',
      authorId: admin.id,
    },
    {
      title: '–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç–∞',
      content: `–í —Ä–∞–º–∫–∞—Ö —Ü–∏—Ñ—Ä–æ–≤–∏–∑–∞—Ü–∏–∏ –Ω–∞–ª–æ–≥–æ–≤–æ–π —Å–ª—É–∂–±—ã –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø–æ—ç—Ç–∞–ø–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç–∞.

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã:
- –£—Å–∫–æ—Ä–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä—É—Ç–∏–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∏—Å–∫–∞ –∏ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è

–û–±—É—á–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –Ω–∞—á–Ω–µ—Ç—Å—è —Å 15 –¥–µ–∫–∞–±—Ä—è.`,
      category: '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏',
      importance: 'NORMAL',
      authorId: users[3].id,
    },
  ];

  for (const data of newsData) {
    const news = await prisma.news.create({
      data: data,
    });
    newsItems.push(news);
    console.log('‚úÖ –°–æ–∑–¥–∞–Ω–∞ –Ω–æ–≤–æ—Å—Ç—å:', news.title);
  }

  // –°–æ–∑–¥–∞–µ–º –≥—Ä—É–ø–ø–æ–≤–æ–π —á–∞—Ç
  const groupChat = await prisma.chatRoom.create({
    data: {
      name: '–û–±—â–∏–π —á–∞—Ç –æ—Ç–¥–µ–ª–∞',
      isGroup: true,
      users: {
        create: [
          { userId: admin.id, isAdmin: true },
          ...users.map(user => ({ userId: user.id, isAdmin: false })),
        ],
      },
    },
  });

  console.log('‚úÖ –°–æ–∑–¥–∞–Ω –≥—Ä—É–ø–ø–æ–≤–æ–π —á–∞—Ç:', groupChat.name);

  // –°–æ–∑–¥–∞–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
  await prisma.message.create({
    data: {
      content: '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –æ–±—â–∏–π —á–∞—Ç –æ—Ç–¥–µ–ª–∞! –ó–¥–µ—Å—å –º—ã –æ–±—Å—É–∂–¥–∞–µ–º —Ä–∞–±–æ—á–∏–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –¥–µ–ª–∏–º—Å—è –≤–∞–∂–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.',
      senderId: admin.id,
      chatRoomId: groupChat.id,
    },
  });

  // –°–æ–∑–¥–∞–µ–º –ª–∏—á–Ω—ã–π —á–∞—Ç –º–µ–∂–¥—É –¥–≤—É–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
  const privateChat = await prisma.chatRoom.create({
    data: {
      isGroup: false,
      users: {
        create: [
          { userId: users[0].id },
          { userId: users[1].id },
        ],
      },
    },
  });

  await prisma.message.create({
    data: {
      content: '–ü—Ä–∏–≤–µ—Ç! –ù–µ –∑–∞–±—É–¥—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç—á–µ—Ç –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–µ –û–û–û "–†–æ–º–∞—à–∫–∞" –¥–æ –∫–æ–Ω—Ü–∞ –¥–Ω—è.',
      senderId: users[1].id,
      chatRoomId: privateChat.id,
    },
  });

  console.log('‚úÖ –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ —á–∞—Ç—ã –∏ —Å–æ–æ–±—â–µ–Ω–∏—è');

  // –°–æ–∑–¥–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  for (const user of users) {
    await prisma.notification.create({
      data: {
        title: '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!',
        content: '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –Ω–∞–ª–æ–≥–æ–≤–æ–π —Å–ª—É–∂–±—ã. –û–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.',
        type: 'SYSTEM',
        userId: user.id,
      },
    });
  }

  console.log('‚úÖ –°–æ–∑–¥–∞–Ω—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è');

  // –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
  const documents = [
    {
      title: '–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–±–æ—Ç–µ —Å —Å–∏—Å—Ç–µ–º–æ–π',
      description: '–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è',
      filename: 'instruction.pdf',
      fileUrl: '/uploads/instruction.pdf',
      fileSize: 2048576,
      fileType: 'application/pdf',
      category: '–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏',
      uploaderId: admin.id,
    },
    {
      title: '–û—Ç—á–µ—Ç –ø–æ –∫–∞–º–µ—Ä–∞–ª—å–Ω—ã–º –ø—Ä–æ–≤–µ—Ä–∫–∞–º –∑–∞ Q4 2023',
      description: '–ö–≤–∞—Ä—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –æ—Ç–¥–µ–ª–∞',
      filename: 'report_q4_2023.xlsx',
      fileUrl: '/uploads/report_q4_2023.xlsx',
      fileSize: 524288,
      fileType: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
      category: '–û—Ç—á–µ—Ç—ã',
      uploaderId: users[0].id,
    },
    {
      title: '–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –≠–î–û',
      description: '–ú–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è –æ–±—É—á–µ–Ω–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤',
      filename: 'edo_presentation.pptx',
      fileUrl: '/uploads/edo_presentation.pptx',
      fileSize: 10485760,
      fileType: 'application/vnd.openxmlformats-officedocument.presentationml.presentation',
      category: '–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏',
      uploaderId: users[3].id,
    },
  ];

  for (const docData of documents) {
    const doc = await prisma.document.create({
      data: docData,
    });
    console.log('‚úÖ –°–æ–∑–¥–∞–Ω –¥–æ–∫—É–º–µ–Ω—Ç:', doc.title);
  }

  // –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏
  const conferences = [
    {
      title: '–ü–ª–∞–Ω–µ—Ä–∫–∞ –æ—Ç–¥–µ–ª–∞ –∫–∞–º–µ—Ä–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫',
      description: '–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –ø–ª–∞–Ω–µ—Ä–∫–∞',
      startTime: new Date(Date.now() + 2 * 60 * 60 * 1000), // —á–µ—Ä–µ–∑ 2 —á–∞—Å–∞
      endTime: new Date(Date.now() + 2.5 * 60 * 60 * 1000), // –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 30 –º–∏–Ω—É—Ç
      isActive: false,
    },
    {
      title: '–û–±—É—á–µ–Ω–∏–µ: –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ù–ö –†–§',
      description: '–í–µ–±–∏–Ω–∞—Ä –ø–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º –≤ –Ω–∞–ª–æ–≥–æ–≤–æ–º –∫–æ–¥–µ–∫—Å–µ',
      startTime: new Date(Date.now() + 24 * 60 * 60 * 1000), // –∑–∞–≤—Ç—Ä–∞
      endTime: new Date(Date.now() + 26 * 60 * 60 * 1000), // –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 2 —á–∞—Å–∞
      isActive: false,
    },
    {
      title: '–≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ —Å–æ–≤–µ—â–∞–Ω–∏–µ',
      description: '–û–±—Å—É–∂–¥–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤',
      startTime: new Date(Date.now() - 60 * 60 * 1000), // —á–∞—Å –Ω–∞–∑–∞–¥
      isActive: true, // –∞–∫—Ç–∏–≤–Ω–∞—è –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è
    },
  ];

  for (const confData of conferences) {
    const conference = await prisma.conference.create({
      data: {
        ...confData,
        participants: {
          create: [
            { userId: admin.id, isHost: true },
            ...users.slice(0, 2).map(user => ({ userId: user.id, isHost: false })),
          ],
        },
      },
    });
    console.log('‚úÖ –°–æ–∑–¥–∞–Ω–∞ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è:', conference.title);
  }

  // –î–æ–±–∞–≤–ª—è–µ–º –±–æ–ª—å—à–µ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
  const moreMessages = [
    {
      content: '–ö–æ–ª–ª–µ–≥–∏, –ø—Ä–æ—à—É –≤—Å–µ—Ö –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –Ω–æ–≤–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –≤ —Ä–∞–∑–¥–µ–ª–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.',
      senderId: admin.id,
      chatRoomId: groupChat.id,
      createdAt: new Date(Date.now() - 5 * 60 * 1000), // 5 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥
    },
    {
      content: '–ù–∞–ø–æ–º–∏–Ω–∞—é –æ –ø–ª–∞–Ω–µ—Ä–∫–µ –≤ 10:00. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –æ—Ç—á–µ—Ç—ã –ø–æ —Ç–µ–∫—É—â–∏–º –ø—Ä–æ–≤–µ—Ä–∫–∞–º.',
      senderId: users[3].id,
      chatRoomId: groupChat.id,
      createdAt: new Date(Date.now() - 30 * 60 * 1000), // 30 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥
    },
    {
      content: '–û—Ç—á–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –≤–∞—à—É –ø–æ—á—Ç—É. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞.',
      senderId: users[0].id,
      recipientId: users[1].id,
      chatRoomId: privateChat.id,
      createdAt: new Date(Date.now() - 60 * 60 * 1000), // —á–∞—Å –Ω–∞–∑–∞–¥
    },
  ];

  for (const msgData of moreMessages) {
    await prisma.message.create({
      data: msgData,
    });
  }

  console.log('‚úÖ –°–æ–∑–¥–∞–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è');

  // –°–æ–∑–¥–∞–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –Ω–æ–≤–æ—Å—Ç—è–º
  if (newsItems.length > 0) {
    await prisma.comment.create({
      data: {
        content: '–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é! –ö–æ–≥–¥–∞ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –æ–±—É—á–µ–Ω–∏–µ –ø–æ –Ω–æ–≤—ã–º –∏–∑–º–µ–Ω–µ–Ω–∏—è–º?',
        authorId: users[0].id,
        newsId: newsItems[0].id,
      },
    });
    
    if (newsItems.length > 2) {
      await prisma.comment.create({
        data: {
          content: '–û—á–µ–Ω—å –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è. –ë—É–¥–µ—Ç –ª–∏ –∑–∞–ø–∏—Å—å –≤–µ–±–∏–Ω–∞—Ä–∞?',
          authorId: users[1].id,
          newsId: newsItems[2].id,
        },
      });
    }
  }

  console.log('‚úÖ –°–æ–∑–¥–∞–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –Ω–æ–≤–æ—Å—Ç—è–º');

  console.log('üéâ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É—Å–ø–µ—à–Ω–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏!');
  console.log('\nüìù –î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞:');
  console.log('–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä: admin@taxservice.ru / admin123');
  console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: ivanov@taxservice.ru (–∏ –¥—Ä—É–≥–∏–µ) / user123');
  console.log('–ö–æ–¥—ã –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: WELCOME2024, NEWEMPLOYEE');
}

main()
  .catch((e) => {
    console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:', e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });
