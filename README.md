# üèõÔ∏è –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –Ω–∞–ª–æ–≥–æ–≤–æ–π —Å–ª—É–∂–±—ã

## üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫:

**Windows:**
```bash
# –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –∏–ª–∏ –∑–∞–ø—É—Å–∫ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
start.bat
```

**Linux/macOS:**
```bash
# –î–∞—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å
chmod +x start.sh
./start.sh
```

### –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞:

1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
```bash
npm install
```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**
```bash
# –°–æ–∑–¥–∞—Ç—å –ë–î PostgreSQL: tax_service_app
createdb tax_service_app

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å—Ö–µ–º—É
npm run db:push

# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç
npm run db:generate

# –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
npm run db:seed
```

3. **–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
```bash
# –ó–∞–ø—É—Å–∫ Next.js + Socket.io –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
npm run dev

# –ò–ª–∏ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏:
npm run dev:next    # Next.js –Ω–∞ –ø–æ—Ä—Ç—É 3000
npm run dev:socket  # Socket.io –Ω–∞ –ø–æ—Ä—Ç—É 3001
```

## üîë –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:
- **Email:** admin@taxservice.ru
- **–ü–∞—Ä–æ–ª—å:** admin123

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:
- **Email:** ivanov@taxservice.ru
- **–ü–∞—Ä–æ–ª—å:** user123
- **Email:** petrov@taxservice.ru  
- **–ü–∞—Ä–æ–ª—å:** user123
- **Email:** sidorova@taxservice.ru
- **–ü–∞—Ä–æ–ª—å:** user123

### –ö–æ–¥—ã –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:
- **WELCOME2024**
- **NEWEMPLOYEE**

## üåê –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

| URL | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|-----|----------|--------|
| http://localhost:3000 | –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ | ‚úÖ |
| http://localhost:3000/login | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è | ‚úÖ |
| http://localhost:3000/register | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è | ‚úÖ |
| http://localhost:3000/dashboard | –î–∞—à–±–æ—Ä–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | ‚úÖ |
| http://localhost:3000/admin/dashboard | –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å | ‚úÖ |
| http://localhost:3000/chat | **Real-time —á–∞—Ç** | üî• **–ò–°–ü–†–ê–í–õ–ï–ù** |
| http://localhost:3000/contacts | **–ö–æ–Ω—Ç–∞–∫—Ç—ã (Enhanced)** | üî• **–û–ë–ù–û–í–õ–ï–ù** |
| http://localhost:3000/conference | –í–∏–¥–µ–æ–∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ | ‚úÖ |
| http://localhost:3000/documents | –î–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç | ‚úÖ |
| http://localhost:3000/news | –ù–æ–≤–æ—Å—Ç–Ω–∞—è –ª–µ–Ω—Ç–∞ | ‚úÖ |
| http://localhost:3000/notifications | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | ‚úÖ |
| http://localhost:3000/profile | –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | ‚úÖ |

## üî• –ü–æ—Å–ª–µ–¥–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### üí¨ Real-Time Chat (–ü–û–õ–ù–û–°–¢–¨–Æ –ò–°–ü–†–ê–í–õ–ï–ù):
- ‚úÖ **Socket.io –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- ‚úÖ **–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** - real-time –¥–æ—Å—Ç–∞–≤–∫–∞
- ‚úÖ **Typing indicators** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–ø–µ—á–∞—Ç–∞–µ—Ç..."
- ‚úÖ **Online —Å—Ç–∞—Ç—É—Å—ã** - –∫—Ç–æ —Å–µ–π—á–∞—Å –≤ —Å–µ—Ç–∏
- ‚úÖ **Read receipts** - –≥–∞–ª–æ—á–∫–∏ –ø—Ä–æ—á—Ç–µ–Ω–∏—è
- ‚úÖ **Group chats** - –≥—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã
- ‚úÖ **File attachments** - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
- ‚úÖ **Auto-reconnection** - —É–º–Ω–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- ‚úÖ **Fallback –∫ HTTP** - —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –±–µ–∑ WebSocket

### üìá Enhanced Contacts Page:
- üéØ **3 —Ä–µ–∂–∏–º–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞** - Grid, List, Table
- üîç **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã** - –ø–æ –æ—Ç–¥–µ–ª–∞–º, —Ä–æ–ª—è–º, —Å—Ç–∞—Ç—É—Å—É
- ‚≠ê **–ò–∑–±—Ä–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã** - —Å–∏—Å—Ç–µ–º–∞ –∑–≤–µ–∑–¥–æ—á–µ–∫
- üìä **–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –æ–Ω–ª–∞–π–Ω, –∞–¥–º–∏–Ω—ã, –æ—Ç–¥–µ–ª—ã
- üì± **Responsive design** - –∏–¥–µ–∞–ª—å–Ω–æ –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- üíæ **–≠–∫—Å–ø–æ—Ä—Ç –≤ CSV** - —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö
- üöÄ **Infinite scroll** - –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
- üìã **Bulk actions** - –º–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Frontend:
- **Next.js 13.5** (App Router)
- **React 18.2** + TypeScript
- **Tailwind CSS** + shadcn/ui
- **Socket.io-client** –¥–ª—è real-time
- **React Hook Form** + Zod
- **date-fns** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç–∞–º–∏

### Backend:
- **Next.js API Routes**
- **Prisma ORM** + PostgreSQL
- **Socket.io** —Å–µ—Ä–≤–µ—Ä
- **JWT** –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **bcrypt** —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

### Infrastructure:
- **PostgreSQL** –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Node.js** runtime
- **TypeScript** —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Node.js 18+**
- **PostgreSQL 14+**
- **npm** –∏–ª–∏ **yarn**

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Environment Variables (.env):
```env
# Database
DATABASE_URL="postgresql://postgres:root@localhost:5432/tax_service_app?schema=public"

# Authentication
JWT_SECRET="your-super-secret-key-change-this-in-production-at-least-32-chars"

# Socket.io
SOCKET_PORT=3001
NEXT_PUBLIC_SOCKET_URL=http://localhost:3001

# CORS
ALLOWED_ORIGINS="http://localhost:3000"
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
web-nalog/
‚îú‚îÄ‚îÄ app/                     # Next.js App Router —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îú‚îÄ‚îÄ api/                # API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ chat/               # üí¨ Real-time —á–∞—Ç
‚îÇ   ‚îú‚îÄ‚îÄ contacts/           # üìá Enhanced –∫–æ–Ω—Ç–∞–∫—Ç—ã  
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/          # üìä –î–∞—à–±–æ—Ä–¥—ã
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/         # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ context/           # React Context
‚îÇ   ‚îú‚îÄ‚îÄ hooks/             # Custom hooks
‚îÇ   ‚îú‚îÄ‚îÄ lib/               # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ server/            # Socket.io —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ types/             # TypeScript —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ hooks/                 # üî• Enhanced hooks
‚îÇ   ‚îú‚îÄ‚îÄ useSocket.ts       # Socket.io —Ö—É–∫
‚îÇ   ‚îú‚îÄ‚îÄ useChat.ts         # –ß–∞—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
‚îÇ   ‚îî‚îÄ‚îÄ useOnlineStatus.ts # –û–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å—ã
‚îú‚îÄ‚îÄ prisma/               # Database —Å—Ö–µ–º–∞
‚îî‚îÄ‚îÄ uploads/              # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
```

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Socket.io –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø—É—â–µ–Ω –ª–∏ Socket.io —Å–µ—Ä–≤–µ—Ä
npm run dev:socket

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–∞ 3001
netstat -an | grep 3001
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å PostgreSQL
pg_isready

# –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
createdb tax_service_app
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏:
```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
rm -rf node_modules package-lock.json
npm install
```

## üìà Performance

### –ú–µ—Ç—Ä–∏–∫–∏:
- **–í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:** < 2s
- **Socket.io –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:** < 1s  
- **Latency —Å–æ–æ–±—â–µ–Ω–∏–π:** < 100ms
- **Bundle size:** ~2.3MB (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- **Code splitting** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–∞
- **Image optimization** - —Å–∂–∞—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **Tree shaking** - —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞
- **Lazy loading** - –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ä—ã:
- **JWT —Ç–æ–∫–µ–Ω—ã** —Å expiration
- **Password hashing** —Å bcrypt
- **SQL injection** –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ Prisma
- **XSS protection** —á–µ—Ä–µ–∑ —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—é
- **CORS** –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- **Rate limiting** –¥–ª—è API
- **File validation** –¥–ª—è –∑–∞–≥—Ä—É–∑–æ–∫
- **Security headers** –≤ Next.js

## üöÄ Production Deployment

### Checklist:
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å JWT_SECRET –Ω–∞ production –∫–ª—é—á
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å production –ë–î
- [ ] –í–∫–ª—é—á–∏—Ç—å HTTPS
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ–º–µ–Ω—ã –¥–ª—è CORS
- [ ] –î–æ–±–∞–≤–∏—Ç—å rate limiting
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –í–∫–ª—é—á–∏—Ç—å ESLint –≤ build
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥


